#define RED 0
#define YELLOW 1
#define GREEN 2
#define LED_SWITCH_INTERVAL 5000 // интервал для смены цвета

int currentColor = RED;
unsigned long lastColorChangeTime = 0;

void setup() {
  pinMode(RED, OUTPUT);
  pinMode(YELLOW, OUTPUT);
  pinMode(GREEN, OUTPUT);
}

void loop() {
  unsigned long currentTime = millis();

  // роверяем прошло ли времени для смены цвета
  if (currentTime - lastColorChangeTime >= LED_SWITCH_INTERVAL) {
    digitalWrite(currentColor, LOW); // выключаем текущий цвет

    // смена цвета
    if (currentColor == RED) {
      currentColor = YELLOW;
    } else if (currentColor == YELLOW) {
      currentColor = GREEN;
    } else {
      currentColor = RED;
    }

    digitalWrite(currentColor, HIGH); // включаем новый цвет
    lastColorChangeTime = currentTime; // обновляем время последней смены цвета
  }
}
