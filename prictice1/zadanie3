#define RED 0
#define YELLOW 1
#define BLUE 2
int buttonState = 0; // D3
int currentState = RED; // Начальное состояние: красный светодиод

void setup() {
  pinMode(RED, OUTPUT); // Вывод для красного светодиода
  pinMode(YELLOW, OUTPUT); // Вывод для желтого светодиода
  pinMode(BLUE, OUTPUT); // Вывод для синего светодиода
  pinMode(D3, INPUT); // Ввод для кнопки
}

void loop() {
  buttonState = digitalRead(D3);

  if (buttonState == HIGH) {
    // Переключаемся на следующее состояние
    switch (currentState) {
      case RED:
        digitalWrite(RED, LOW);
        digitalWrite(YELLOW, HIGH);
        currentState = YELLOW;
        break;
      case YELLOW:
        digitalWrite(YELLOW, LOW);
        digitalWrite(BLUE, HIGH);
        currentState = BLUE;
        break;
      case BLUE:
        digitalWrite(BLUE, LOW);
        digitalWrite(RED, HIGH);
        currentState = RED;
        break;
    }
    
    // Ждем некоторое время, чтобы избежать многократного нажатия
    delay(500);
  }
}
