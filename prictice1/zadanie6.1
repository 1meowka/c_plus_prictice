// Подключаем необходимые библиотеки
#include <Arduino.h>

// Объявляем пины для светодиода и потенциометра
const int ledPin = D0;    // Пин для светодиода (D0)
const int potPin = A0;    // Пин для потенциометра (A0)

void setup() {
  // Устанавливаем пин для светодиода как выход
  pinMode(ledPin, OUTPUT);

  // Устанавливаем частоту для ШИМ сигнала на светодиоде в 120 Гц
  analogWriteFreq(120);
}

void loop() {
  // Считываем значение с потенциометра
  int potValue = analogRead(potPin);

  // Масштабируем значение потенциометра из диапазона 0-4095 в диапазон 0-255
  int brightness = map(potValue, 0, 4095, 0, 255);

  // Устанавливаем яркость светодиода с использованием ШИМ
  analogWrite(ledPin, brightness);
}
