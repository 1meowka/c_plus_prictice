#include <sstream>
#include <AmperkaFET.h>
#include <SPI.h>
#include <string.h>

FET mosfet(D17, 2);

void setup()
{
  Serial.begin();
  mosfet.begin();
}

void loop()
{
  if (Serial.available())
  {
    std::stringstream input;
    uint32_t device, pin;
    bool mode;

    input << Serial.readString().c_str();

    input >> device;
    input >> pin;
    input >> mode;

    mosfet.digitalWrite(device, pin, mode);
  }
}
